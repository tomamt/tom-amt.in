<nb-card>
  <nb-card-header i18n>
     Operational Efficiency Analytics
  </nb-card-header>
  <nb-card-body class="opaclass" style="text-align: center;">
     <div class="row" style="background: white;">
        <div class="col-xxxl-2 col-xxl-2 col-lg-2 col-md-2" style="margin-top: 0.5%;" i18n>
           Date Range:
        </div>
        <div class="col-xxxl-3 col-xxl-3 col-lg-3 col-md-3">
           <div >
              <mat-form-field>
                 <input matInput (ngModelChange)="onDateSelect($event)" [max]="maxDate" [(ngModel)]="dateGrouped" [matDatepicker]="picker" placeholder="Choose a Date" i18n-placeholder>
                 <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                 <mat-datepicker #picker></mat-datepicker>
              </mat-form-field>
           </div>
        </div>
     </div>
     
        <div class="row" style="position: relative;top: 25px;z-index: 1;left: 30px;width: 100%;">
           <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" style="margin-top: 0.5%;">
              <h6 i18n>Orders</h6>
           </div>
        </div>
        <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" *ngIf="datagrouped.length!=0">
           <ngx-groupedbar-chart-oea [groupeddata]="datagrouped "></ngx-groupedbar-chart-oea>
        </div>
        <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" *ngIf="datagrouped.length==0" style="height: 100px;top: 65px;left: 2%;" i18n>
            No data to show
        </div>
        <hr>
          
        <div class="row" style="position: relative;top: 38px;z-index: 1;left: 30px;width: 100%;">
         <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" style="margin-top: 0.5%;">
            <h6 i18n>Delivery Duration</h6>
         </div>
        </div>
      <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" style="margin-top: 5%;" *ngIf="deliverydurationdata.datavalid">
         <ngx-linechart-chart-oea [linechartdata]="deliverydurationdata"></ngx-linechart-chart-oea>
      </div>
      <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" *ngIf="!deliverydurationdata.datavalid" style="height: 100px;top: 65px;left: 2%;" i18n>
         No data to show
      </div>
      <hr> 

      <div class="row" style="position: relative;top: 25px;z-index: 1;left: 30px;width: 100%;">
         <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" style="margin-top: 0.5%;">
            <h6 i18n>5-star Ratings</h6>
         </div>
      </div>
      <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" *ngIf="ratinggrouped.length!=0">
         <ngx-groupedbar-chart-oea [groupeddata]="ratinggrouped "></ngx-groupedbar-chart-oea>
      </div>
      <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" *ngIf="ratinggrouped.length==0" style="height: 100px;top: 65px;left: 2%;" i18n>
         No data to show
      </div>
      <hr>
      
      <div class="row" style="position: relative;top: 25px;z-index: 1;left: 30px;width: 100%;">
         <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" style="margin-top: 0.5%;">
            <h6 i18n>Cancellations</h6>
         </div>
      </div>
      <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" *ngIf="cancellationgrouped.length!=0">
         <ngx-groupedbar-chart-oea [groupeddata]="cancellationgrouped "></ngx-groupedbar-chart-oea>
      </div>
      <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" *ngIf="cancellationgrouped.length==0" style="height: 100px;top: 65px;left: 2%;" i18n>
         No data to show
      </div>
      <hr>

      <div class="row" style="position: relative;z-index: 1;left: 30px;width: 100%;">
         <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" style="margin-top: 5%;" >
            <h6 i18n>Successful Deliveries</h6>
         </div>
      </div>
      <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" style="margin-top: 5%;"  >
         <ngx-piechart-oea [sucessdeliveries]="sucessdeliverydata" ></ngx-piechart-oea>
      </div>
      <div class="col-xxxl-12 col-xxl-12 col-lg-12 col-md-12" *ngIf="!sucessDeliveryEnable" style="left: 2%;" i18n>
         No data to show
      </div>
      

    
  </nb-card-body>
  <nb-card>